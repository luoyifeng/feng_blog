(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d27e36b4"],{"0be0":function(e,t,n){},"100c":function(e,t,n){"use strict";var r=n("b848"),a=n.n(r);a.a},"3c5b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"populationQuery"},[n("info-query")],1)},a=[],o=(n("cadf"),n("551c"),n("097d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"infoQuery"},[n("div",{staticClass:"infoQuery__query"},[n("el-form",{ref:"queryForm",attrs:{inline:!0,size:"small",model:e.queryInfo}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{attrs:{clearable:"",placeholder:"姓名"},model:{value:e.queryInfo.name,callback:function(t){e.$set(e.queryInfo,"name",t)},expression:"queryInfo.name"}})],1),n("el-form-item",{attrs:{prop:"num",label:"证件号码"}},[n("el-input",{attrs:{clearable:"",placeholder:"证件号码",autocomplete:"off"},model:{value:e.queryInfo.num,callback:function(t){e.$set(e.queryInfo,"num",t)},expression:"queryInfo.num"}})],1),n("el-form-item",{attrs:{label:"户籍地址"}},[n("el-input",{attrs:{clearable:"",placeholder:"户籍地址"},model:{value:e.queryInfo.household,callback:function(t){e.$set(e.queryInfo,"household",t)},expression:"queryInfo.household"}})],1),n("el-form-item",{attrs:{label:"居住地址"}},[n("el-input",{attrs:{clearable:"",placeholder:"居住地址"},model:{value:e.queryInfo.live,callback:function(t){e.$set(e.queryInfo,"live",t)},expression:"queryInfo.live"}})],1),n("el-form-item",{attrs:{label:"人员情况"}},[n("el-select",{attrs:{size:"small",multiple:"","collapse-tags":"",placeholder:"请选择",clearable:""},model:{value:e.queryInfo.specialMarks,callback:function(t){e.$set(e.queryInfo,"specialMarks",t)},expression:"queryInfo.specialMarks"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onQuery(1)}}},[e._v("查询")])],1)],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"populationQuery__table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData}},[n("el-table-column",{attrs:{label:"序号",type:"index",index:e.indexMethod,width:"96",align:"center"}}),n("el-table-column",{attrs:{label:"姓名",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){e.gotoMassesInfo(t.row.id)}}},[e._v(e._s(t.row.residentName))])]}}])}),n("el-table-column",{attrs:{prop:"residentIdType",label:"证件类型",width:"120",align:"center"}}),n("el-table-column",{attrs:{prop:"residentId",label:"证件号码",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"residentSex",label:"性别",width:"60",align:"center"}}),n("el-table-column",{attrs:{prop:"residentType",label:"人员类型",width:"120",align:"center"}}),n("el-table-column",{attrs:{prop:"specialMark",label:"人员情况",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"censusRegister",label:"户籍地址",align:"center"}}),n("el-table-column",{attrs:{prop:"contactInfo",label:"联系方式",width:"120",align:"center"}}),n("el-table-column",{attrs:{label:"居住地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!==t.row.addressMatchStatus?n("el-button",{attrs:{type:"text"},on:{click:function(n){e.gotoRoomInfo(t.row.proCollId)}}},[e._v("\n            "+e._s(t.row.habitantAddress)+"\n          ")]):n("span",[e._v("--")])]}}])})],1),n("el-pagination",{staticStyle:{"text-align":"right",padding:"20px 0"},attrs:{background:"",layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage,total:e.totalCount},on:{"current-change":e.onCurrentChange}})],1)])}),l=[],i=(n("7f7f"),n("6d57")),u={data:function(){return{queryInfo:{name:"",num:"",household:"",live:"",specialMarks:[]},options:[{value:"无案底人员",label:"无案底人员"},{value:"重点人员",label:"重点人员"},{value:"风险人员",label:"风险人员"},{value:"涉案人员",label:"涉案人员"}],tableData:[],currentPage:1,pageSize:10,totalCount:0,isLoading:!1}},mounted:function(){this.onQuery()},created:function(){console.log("返回条件：",this.$route.query),null!=this.$route.query&&null!=this.$route.query.old&&(console.log("返回条件：",this.$route.query.old),this.queryInfo=this.$route.query.old.query,this.currentPage=this.$route.query.old.currentPage,this.totalCount=this.$route.query.old.totalCount)},methods:{onQuery:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$refs.queryForm.validate(function(n){if(!n)return!1;e.currentPage=t,e.getServer()})},getServer:function(){var e=this;console.log(this.queryInfo.specialMarks);var t="";this.queryInfo.specialMarks.length>0?(t=this.queryInfo.specialMarks.join(),this.pageSize=1e4):this.pageSize=10,this.isLoading=!0,i["a"].getPeopleInfo({residentName:this.queryInfo.name,residentId:this.queryInfo.num,censusRegister:this.queryInfo.household,habitantAddress:this.queryInfo.live,specialMark:t,currentPage:this.currentPage,offset:10}).then(function(t){e.tableData=t.data,e.totalCount=t.totalSize}),this.isLoading=!1},gotoMassesInfo:function(e){this.$router.push({path:"/masses-info",query:{id:e,old:{query:this.queryInfo,currentPage:this.currentPage,totalCount:this.totalCount}}})},gotoRoomInfo:function(e){this.$router.push({path:"/room-info",query:{proCollId:e}})},onCurrentChange:function(e){this.onQuery(e)},validateNumber:function(e,t,n){"number"===typeof t||""===t?n():n(new Error("请输入数字"))},indexMethod:function(e){return e+1+10*(this.currentPage-1)}}},s=u,c=(n("100c"),n("2877")),f=Object(c["a"])(s,o,l,!1,null,"1a35f707",null);f.options.__file="index.vue";var d=f.exports,p={components:{InfoQuery:d}},h=p,b=(n("bd7d"),Object(c["a"])(h,r,a,!1,null,"88bde6b6",null));b.options.__file="index.vue";t["default"]=b.exports},"6d57":function(e,t,n){"use strict";n("96cf");var r=n("1da1"),a={peopleInfo:{API:{queryCheck:"resident/info/queryByCondition",massesInfo:"resident/info/queryById"}}},o=a,l=n("7c15"),i=o.peopleInfo.API;t["a"]={getPeopleInfo:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,l["a"].get(i["queryCheck"],t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getMassesInfo:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,l["a"].get(i["massesInfo"],t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},b848:function(e,t,n){},bd7d:function(e,t,n){"use strict";var r=n("0be0"),a=n.n(r);a.a}}]);
//# sourceMappingURL=chunk-d27e36b4.43c16a92.js.map