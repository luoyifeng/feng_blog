(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dfe4594"],{1364:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-wrapper"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,"status-icon":"",rules:e.formRules}},[t("el-form-item",[t("header",{staticClass:"login-title"},[e._v("宿迁人口管控系统")])]),t("el-form-item",{attrs:{prop:"officerNo",error:e.loginForm.officerNoErrMsg}},[t("el-input",{attrs:{type:"text",autocomplete:"off",clearable:"",placeholder:"警号"},model:{value:e.loginForm.officerNo,callback:function(r){e.$set(e.loginForm,"officerNo",r)},expression:"loginForm.officerNo"}})],1),t("el-form-item",{attrs:{prop:"password",error:e.loginForm.passwordErrMsg}},[t("el-input",{attrs:{type:"password",autocomplete:"off",clearable:"",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)},o=[],i=(t("96cf"),t("1da1")),a=t("8d81"),s=t.n(a),u=t("a78e"),c=t.n(u),f=(t("7f7f"),{login:{API:{getOfficerInfo:"user/right/selectByOfficerNo",resetPassword:"user/right/resetPassword",getMenuList:"user/right/getCurrentUserMenu"}}}),l=f,g=t("7c15"),p=l.login.API,h={getOfficerInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var r,t,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,g["a"].get(p["getOfficerInfo"],r);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),resetPassword:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var r,t,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,g["a"].get(p["resetPassword"],r);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getMenuList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var r,t,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,g["a"].get(p["getMenuList"],r);case 3:return t=e.sent,e.abrupt("return",t.data.map(function(e){return e.name}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},m=t("5a50"),d={name:"LoginPage",data:function(){return{loginForm:{officerNo:"",password:"",officerNoErrMsg:"",passwordErrMsg:""},formRules:{officerNo:[{required:!0,message:"请输入警号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},isLoading:!1}},created:function(){if(c.a.get("officerInfo")){var e=JSON.parse(c.a.get("officerInfo"));this.loginForm.officerNo=e.officerNo}},methods:{handleSubmit:function(){var e=this;this.isLoading=!0,this.loginForm.officerNoErrMsg="",this.loginForm.passwordErrMsg="",this.$refs.loginForm.validate(function(){var r=Object(i["a"])(regeneratorRuntime.mark(function r(t){var n;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=7;break}return r.next=3,e.getOfficerInfo();case 3:n=r.sent,n?e.handleLogin():e.isLoading=!1,r.next=8;break;case 7:return r.abrupt("return",!1);case 8:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}())},getOfficerInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var r,t,n,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=this.loginForm,t=r.officerNo,n=r.password,o={officerNo:t},e.next=4,h.getOfficerInfo(o);case 4:return i=e.sent,i?i.password!==s()(n)?this.loginForm.passwordErrMsg="密码错误!":(c.a.set("officerNo",i.officerNo,{expires:365}),c.a.set("officerInfo",JSON.stringify(i),{expires:365}),c.a.set("isLogin",!0,{expires:365})):this.loginForm.officerNoErrMsg="用户名不存在!",e.abrupt("return",i.password===s()(n));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleReset:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.loginForm.officerNo){e.next=3;break}return this.$message.warning("警号为空，请输入警号以重置密码。"),e.abrupt("return");case 3:return r={officerNo:this.loginForm.officerNo},e.next=6,h.resetPassword(r);case 6:t=e.sent,t&&this.$message.success("密码重置成功，请重新登录。");case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleLogin:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var r,t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={officerNo:this.loginForm.officerNo},e.next=3,h.getMenuList(r);case 3:t=e.sent,n=Object(m["a"])(t),c.a.set("menuList",JSON.stringify(n),{expires:365}),this.$router.push({name:"Home",params:{officerNo:this.loginForm.officerNo}});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},w=d,v=(t("aad6"),t("2877")),b=Object(v["a"])(w,n,o,!1,null,"977fde88",null);b.options.__file="index.vue";r["default"]=b.exports},"8d81":function(e,r,t){var n;(function(o){"use strict";function i(e,r){var t=(65535&e)+(65535&r),n=(e>>16)+(r>>16)+(t>>16);return n<<16|65535&t}function a(e,r){return e<<r|e>>>32-r}function s(e,r,t,n,o,s){return i(a(i(i(r,e),i(n,s)),o),t)}function u(e,r,t,n,o,i,a){return s(r&t|~r&n,e,r,o,i,a)}function c(e,r,t,n,o,i,a){return s(r&n|t&~n,e,r,o,i,a)}function f(e,r,t,n,o,i,a){return s(r^t^n,e,r,o,i,a)}function l(e,r,t,n,o,i,a){return s(t^(r|~n),e,r,o,i,a)}function g(e,r){var t,n,o,a,s;e[r>>5]|=128<<r%32,e[14+(r+64>>>9<<4)]=r;var g=1732584193,p=-271733879,h=-1732584194,m=271733878;for(t=0;t<e.length;t+=16)n=g,o=p,a=h,s=m,g=u(g,p,h,m,e[t],7,-680876936),m=u(m,g,p,h,e[t+1],12,-389564586),h=u(h,m,g,p,e[t+2],17,606105819),p=u(p,h,m,g,e[t+3],22,-1044525330),g=u(g,p,h,m,e[t+4],7,-176418897),m=u(m,g,p,h,e[t+5],12,1200080426),h=u(h,m,g,p,e[t+6],17,-1473231341),p=u(p,h,m,g,e[t+7],22,-45705983),g=u(g,p,h,m,e[t+8],7,1770035416),m=u(m,g,p,h,e[t+9],12,-1958414417),h=u(h,m,g,p,e[t+10],17,-42063),p=u(p,h,m,g,e[t+11],22,-1990404162),g=u(g,p,h,m,e[t+12],7,1804603682),m=u(m,g,p,h,e[t+13],12,-40341101),h=u(h,m,g,p,e[t+14],17,-1502002290),p=u(p,h,m,g,e[t+15],22,1236535329),g=c(g,p,h,m,e[t+1],5,-165796510),m=c(m,g,p,h,e[t+6],9,-1069501632),h=c(h,m,g,p,e[t+11],14,643717713),p=c(p,h,m,g,e[t],20,-373897302),g=c(g,p,h,m,e[t+5],5,-701558691),m=c(m,g,p,h,e[t+10],9,38016083),h=c(h,m,g,p,e[t+15],14,-660478335),p=c(p,h,m,g,e[t+4],20,-405537848),g=c(g,p,h,m,e[t+9],5,568446438),m=c(m,g,p,h,e[t+14],9,-1019803690),h=c(h,m,g,p,e[t+3],14,-187363961),p=c(p,h,m,g,e[t+8],20,1163531501),g=c(g,p,h,m,e[t+13],5,-1444681467),m=c(m,g,p,h,e[t+2],9,-51403784),h=c(h,m,g,p,e[t+7],14,1735328473),p=c(p,h,m,g,e[t+12],20,-1926607734),g=f(g,p,h,m,e[t+5],4,-378558),m=f(m,g,p,h,e[t+8],11,-2022574463),h=f(h,m,g,p,e[t+11],16,1839030562),p=f(p,h,m,g,e[t+14],23,-35309556),g=f(g,p,h,m,e[t+1],4,-1530992060),m=f(m,g,p,h,e[t+4],11,1272893353),h=f(h,m,g,p,e[t+7],16,-155497632),p=f(p,h,m,g,e[t+10],23,-1094730640),g=f(g,p,h,m,e[t+13],4,681279174),m=f(m,g,p,h,e[t],11,-358537222),h=f(h,m,g,p,e[t+3],16,-722521979),p=f(p,h,m,g,e[t+6],23,76029189),g=f(g,p,h,m,e[t+9],4,-640364487),m=f(m,g,p,h,e[t+12],11,-421815835),h=f(h,m,g,p,e[t+15],16,530742520),p=f(p,h,m,g,e[t+2],23,-995338651),g=l(g,p,h,m,e[t],6,-198630844),m=l(m,g,p,h,e[t+7],10,1126891415),h=l(h,m,g,p,e[t+14],15,-1416354905),p=l(p,h,m,g,e[t+5],21,-57434055),g=l(g,p,h,m,e[t+12],6,1700485571),m=l(m,g,p,h,e[t+3],10,-1894986606),h=l(h,m,g,p,e[t+10],15,-1051523),p=l(p,h,m,g,e[t+1],21,-2054922799),g=l(g,p,h,m,e[t+8],6,1873313359),m=l(m,g,p,h,e[t+15],10,-30611744),h=l(h,m,g,p,e[t+6],15,-1560198380),p=l(p,h,m,g,e[t+13],21,1309151649),g=l(g,p,h,m,e[t+4],6,-145523070),m=l(m,g,p,h,e[t+11],10,-1120210379),h=l(h,m,g,p,e[t+2],15,718787259),p=l(p,h,m,g,e[t+9],21,-343485551),g=i(g,n),p=i(p,o),h=i(h,a),m=i(m,s);return[g,p,h,m]}function p(e){var r,t="",n=32*e.length;for(r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function h(e){var r,t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;var n=8*e.length;for(r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function m(e){return p(g(h(e),8*e.length))}function d(e,r){var t,n,o=h(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=g(o,8*e.length)),t=0;t<16;t+=1)i[t]=909522486^o[t],a[t]=1549556828^o[t];return n=g(i.concat(h(r)),512+8*r.length),p(g(a.concat(n),640))}function w(e){var r,t,n="0123456789abcdef",o="";for(t=0;t<e.length;t+=1)r=e.charCodeAt(t),o+=n.charAt(r>>>4&15)+n.charAt(15&r);return o}function v(e){return unescape(encodeURIComponent(e))}function b(e){return m(v(e))}function x(e){return w(b(e))}function N(e,r){return d(v(e),v(r))}function F(e,r){return w(N(e,r))}function O(e,r,t){return r?t?N(r,e):F(r,e):t?b(e):x(e)}n=function(){return O}.call(r,t,r,e),void 0===n||(e.exports=n)})()},aad6:function(e,r,t){"use strict";var n=t("c4fb"),o=t.n(n);o.a},c4fb:function(e,r,t){}}]);
//# sourceMappingURL=chunk-1dfe4594.859bf1b0.js.map