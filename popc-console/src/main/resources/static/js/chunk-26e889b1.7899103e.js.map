{"version":3,"sources":["webpack:///./src/components/house-info/index.vue?7b6e","webpack:///src/components/house-info/index.vue","webpack:///./src/components/house-info/index.vue?a91a","webpack:///./src/components/house-info/index.vue","webpack:///./src/components/house-info/index.vue?966a","webpack:///./src/components/house-info/config.js","webpack:///./src/components/house-info/service.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","formInline","model","value","callback","$$v","$set","expression","_l","item","key","label","on","onQuery","_v","staticStyle","$event","uploadFun","_e","directives","name","rawName","tableData","indexMethod","scopedSlots","_u","fn","scope","gotoRoomInfo","row","proCollId","_s","roomNum","landlordName","landlordId","currentPage","total","title","dialogVisible","handleClose","uploadUrl","onSuccess","fileList","slot","staticRenderFns","data","communityName","apartmentNum","houseStatus","houseDanger","options","isLoading","officerNo","watch","init","mounted","computed","isAdmin","obj","role","methods","$router","push","path","query","id","$message","success","component","modules","houseInfo","API","getHouseInfo","getRoomInfo","getVisitInfo","getWaterTrend","getShoppingInfo","saveBasicCommunity","houseInfoApi","CONF","params","Api","get","res"],"mappings":"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","file":"js/chunk-26e889b1.7899103e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"power-manage\"},[_c('div',{staticClass:\"clearfix\"},[_c('el-form',{staticClass:\"form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"小区名称\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.communityName),callback:function ($$v) {_vm.$set(_vm.formInline, \"communityName\", $$v)},expression:\"formInline.communityName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"楼栋名称\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.apartmentNum),callback:function ($$v) {_vm.$set(_vm.formInline, \"apartmentNum\", $$v)},expression:\"formInline.apartmentNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"房号\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.roomNum),callback:function ($$v) {_vm.$set(_vm.formInline, \"roomNum\", $$v)},expression:\"formInline.roomNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"房屋状态\"}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.formInline.houseStatus),callback:function ($$v) {_vm.$set(_vm.formInline, \"houseStatus\", $$v)},expression:\"formInline.houseStatus\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"房东姓名\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.landlordName),callback:function ($$v) {_vm.$set(_vm.formInline, \"landlordName\", $$v)},expression:\"formInline.landlordName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"房东身份证号\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.landlordId),callback:function ($$v) {_vm.$set(_vm.formInline, \"landlordId\", $$v)},expression:\"formInline.landlordId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"房屋隐患\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.formInline.houseDanger),callback:function ($$v) {_vm.$set(_vm.formInline, \"houseDanger\", $$v)},expression:\"formInline.houseDanger\"}},[_c('el-option',{attrs:{\"label\":\"房屋存在隐患\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"房屋未存在隐患\",\"value\":\"2\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onQuery}},[_vm._v(\"查询\")])],1)],1)],1),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-bottom\":\"10px\"}},[(_vm.isAdmin)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.uploadFun('register')}}},[_vm._v(\"上传房屋登记信息\")]):_vm._e(),(_vm.isAdmin)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.uploadFun('trade')}}},[_vm._v(\"上传房屋交易信息\")]):_vm._e()],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"table-box\"},[_c('el-table',{attrs:{\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"index\":_vm.indexMethod,\"width\":\"96\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"communityName\",\"label\":\"小区名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"apartmentNum\",\"label\":\"楼栋名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"houseUnit\",\"label\":\"单元\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"label\":\"房号\",\"width\":\"80px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.gotoRoomInfo(scope.row.proCollId)}}},[_vm._v(_vm._s(scope.row.roomNum))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"houseStatus\",\"label\":\"房屋状态\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"houseSpecialMark\",\"label\":\"房屋特殊标记\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"houseDanger\",\"label\":\"房屋隐患情况\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"房东信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.landlordName)+\" - \"+_vm._s(scope.row.landlordId))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"landlordPhone\",\"label\":\"联系方式\"}})],1),_c('el-pagination',{staticStyle:{\"text-align\":\"right\",\"padding\":\"20px 0\"},attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.currentPage,\"page-size\":10,\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.handleClose}},[_c('el-upload',{attrs:{\"action\":_vm.uploadUrl,\"limit\":1,\"on-success\":_vm.onSuccess,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传txt文件\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"power-manage\">\n    <div class=\"clearfix\">\n      <el-form :inline=\"true\" :model=\"formInline\" class=\"form-inline\">\n        <el-form-item label=\"小区名称\">\n          <el-input v-model=\"formInline.communityName\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"楼栋名称\">\n          <el-input v-model=\"formInline.apartmentNum\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"房号\">\n          <el-input v-model=\"formInline.roomNum\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"房屋状态\">\n          <el-select v-model=\"formInline.houseStatus\" size=\"small\" placeholder=\"请选择\" clearable>\n            <el-option\n              v-for=\"item in options\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"房东姓名\">\n          <el-input v-model=\"formInline.landlordName\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"房东身份证号\">\n          <el-input v-model=\"formInline.landlordId\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"房屋隐患\">\n          <el-select v-model=\"formInline.houseDanger\" placeholder=\"请选择\" clearable size=\"small\">\n            <el-option label=\"房屋存在隐患\" value=\"1\"/>\n            <el-option label=\"房屋未存在隐患\" value=\"2\"/>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" size=\"small\" @click=\"onQuery\">查询</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div style=\"text-align: right; margin-bottom: 10px;\">\n      <el-button size=\"small\" v-if=\"isAdmin\" type=\"warning\" @click=\"uploadFun('register')\">上传房屋登记信息</el-button>\n      <el-button size=\"small\" v-if=\"isAdmin\" type=\"success\" @click=\"uploadFun('trade')\">上传房屋交易信息</el-button>\n    </div>\n    <div class=\"table-box\" v-loading=\"isLoading\">\n      <el-table border :data=\"tableData\">\n        <el-table-column label=\"序号\" type=\"index\" :index=\"indexMethod\" width=\"96\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"communityName\" label=\"小区名称\"></el-table-column>\n        <el-table-column prop=\"apartmentNum\" label=\"楼栋名称\"></el-table-column>\n        <el-table-column prop=\"houseUnit\" label=\"单元\" width=\"100px\"></el-table-column>\n        <el-table-column label=\"房号\" width=\"80px\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"gotoRoomInfo(scope.row.proCollId)\">{{ scope.row.roomNum }}</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"houseStatus\" label=\"房屋状态\" width=\"80\"></el-table-column>\n        <el-table-column prop=\"houseSpecialMark\" label=\"房屋特殊标记\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"houseDanger\" label=\"房屋隐患情况\" width=\"120\"></el-table-column>\n        <el-table-column label=\"房东信息\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.landlordName }} - {{ scope.row.landlordId }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"landlordPhone\" label=\"联系方式\"></el-table-column>\n      </el-table>\n      <el-pagination\n        style=\"text-align: right; padding: 20px 0;\"\n        background\n        layout=\"total, prev, pager, next\"\n        :current-page.sync=\"currentPage\"\n        :page-size=\"10\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n    <el-dialog\n      :title=\"title\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\"\n      @close=\"handleClose\">\n      <el-upload\n        :action=\"uploadUrl\"\n        :limit=\"1\"\n        :on-success=\"onSuccess\"\n        :file-list=\"fileList\">\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传txt文件</div>\n      </el-upload>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Service from './service'\nimport Cookies from 'js-cookie'\n\nexport default {\n  name: 'HouseInfo',\n  data() {\n    return {\n      formInline: {\n        communityName: '',\n        apartmentNum: '',\n        roomNum: '',\n        houseStatus: '',\n        landlordName: '',\n        landlordId: '',\n        houseDanger: ''\n      },\n      options: [\n        {\n          value: '自住',\n          label: '自住'\n        },\n        {\n          value: '出租',\n          label: '出租'\n        },\n        {\n          value: '空置',\n          label: '空置'\n        },\n        {\n          value: '待核',\n          label: '待核'\n        },\n        {\n          value: '其他',\n          label: '其他'\n        }\n      ],\n      tableData: [],\n      total: 0,\n      currentPage: 1,\n      isLoading: false,\n      officerNo: '',\n      fileList: [],\n      dialogVisible: false,\n      title: '',\n      uploadUrl: ''\n    }\n  },\n  watch: {\n    currentPage() {\n      this.init(this.formInline)\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  computed: {\n    isAdmin() {\n      let obj = JSON.parse(Cookies.get('officerInfo'))\n      return obj.role === 'admin'\n    }\n  },\n  methods: {\n    async init(params = {}) {\n      this.isLoading = true\n      const defaultParams = {\n        currentPage: this.currentPage,\n        offset: 10\n      }\n      const res = await Service.getHouseInfo({ ...defaultParams, ...params })\n      const { data, totalSize = 0 } = res\n      this.tableData = data\n      this.total = totalSize\n      this.isLoading = false\n    },\n    onQuery() {\n      this.currentPage = 1\n      this.init(this.formInline)\n    },\n    indexMethod(index) {\n      return (index + 1) + (this.currentPage - 1) * 10\n    },\n    gotoRoomInfo(id) {\n      this.$router.push({\n        path: '/room-info',\n        query: {\n          proCollId: id\n        }\n      })\n    },\n    uploadFun(name) {\n      if (name === 'trade') {\n        this.title = '上传房屋交易信息'\n        this.uploadUrl = '/water/use/uploadHouseDealFile'\n      } else {\n        this.title = '上传房屋登记信息'\n        this.uploadUrl = '/water/use/uploadHouseRegisterFile'\n      }\n      this.dialogVisible = true\n    },\n    handleClose() {\n      this.dialogVisible = false\n      this.fileList = []\n    },\n    onSuccess() {\n      this.$message.success('文件上传成功！')\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .clearfix:after {\n    content: \"\";\n    display: block;\n    clear: both;\n  }\n\n  .clearfix {\n    zoom: 1;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3ffc9c50&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3ffc9c50&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ffc9c50\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3ffc9c50&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3ffc9c50&lang=less&scoped=true&\"","const modules = {\n  houseInfo: {\n    API: {\n      getHouseInfo: 'house/info/queryByCondition',\n      getRoomInfo: 'house/info/basic',\n      getVisitInfo: 'house/info/queryAllFeedbackByProCollId',\n      getWaterTrend: 'house/info/queryWaterTrendByProCollId',\n      getShoppingInfo: 'shopping/info/getShoppingInfoByProCollId',\n      saveBasicCommunity: 'house/info/saveBasicCommunity',\n    }\n  }\n}\n\nexport default modules\n","import CONF from './config'\nimport Api from '@/utils/api'\n\nconst houseInfoApi = CONF.houseInfo.API\n\nexport default {\n  /**\n   *[根据条件获取房屋信息列表]\n   * @param  {Object} params [description]\n   * @return {[type]}        [description]\n   */\n  async getHouseInfo(params = {}) {\n    const res = await Api.get(houseInfoApi['getHouseInfo'], params)\n    return res\n  },\n  /**\n   *[根据 proCollId 查询房屋基本信息]\n   * @param  {Object} params [description]\n   * @return {[type]}        [description]\n   */\n  async getRoomInfo(params = {}) {\n    const res = await Api.get(houseInfoApi['getRoomInfo'], params)\n    return res\n  },\n  /**\n   *[查询该房屋所有的调查走访核实记录]\n   * @param  {Object} params [description]\n   * @return {[type]}        [description]\n   */\n  async getVisitInfo(params = {}) {\n    const res = await Api.get(houseInfoApi['getVisitInfo'], params)\n    return res\n  },\n  /**\n   *[房屋生活信息--近一年用水趋势图]\n   * @param  {Object} params [description]\n   * @return {[type]}        [description]\n   */\n  async getWaterTrend(params = {}) {\n    const res = await Api.get(houseInfoApi['getWaterTrend'], params)\n    return res.data\n  },\n\n  /**\n   *[房屋生活信息--购物信息]\n   * @param  {Object} params [description]\n   * @return {[type]}        [description]\n   */\n  async getShoppingInfo(params = {}) {\n    const res = await Api.get(houseInfoApi['getShoppingInfo'], params)\n    return res.data\n  },\n\n  /**\n   * 房屋基本信息保存\n   * @param params\n   * @returns {Promise<*>}\n   */\n  async saveBasicCommunity(params = {}) {\n    const res = await Api.get(houseInfoApi['saveBasicCommunity'], params)\n    return res.data\n  }\n}\n"],"sourceRoot":""}