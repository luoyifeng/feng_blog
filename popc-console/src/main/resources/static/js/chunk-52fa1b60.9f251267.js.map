{"version":3,"sources":["webpack:///./src/components/layout/index.vue?fe19","webpack:///./src/components/layout/config.js","webpack:///./src/components/layout/service.js","webpack:///src/components/layout/index.vue","webpack:///./src/components/layout/index.vue?ee85","webpack:///./src/components/layout/index.vue","webpack:///./src/components/layout/index.vue?ddae","webpack:///./node_modules/core-js/modules/es6.array.of.js","webpack:///./node_modules/core-js/modules/_create-property.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","height","attrs","width","_v","router","unique-opened","default-active","$route","path","background-color","text-color","active-text-color","on","open","handleOpen","close","handleClose","_l","item","key","name","index","slot","_s","trigger","officerInfo","officerName","click","signOutFun","updateFun","separator-class","to","title","append-to-body","visible","dialogVisible","closeDialog","update:visible","$event","ref","model","form","rules","label-width","label","prop","type","size","placeholder","clearable","value","callback","$$v","$set","expression","savePwd","staticRenderFns","modules","pwd","API","updatePassword","CONF","service","_updatePassword","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","params","res","_args","arguments","wrap","_context","prev","next","length","undefined","Api","get","sent","abrupt","stop","apply","layoutvue_type_script_lang_js_","data","routes","menuList","newPwd","oldPwd","required","message","min","watch","created","getMenuList","buildRoutes","mounted","console","log","methods","js_cookie_default","a","JSON","parse","filter","v","isChildren","remove","$router","push","updatePwd","_updatePwd","objectSpread","officerNo","$message","success","_this","$refs","pwdForm","validate","valid","resetFields","keyPath","newVal","oldVal","prevRoute","matched","currentRoute","meta","Array","of","isArray","map","set","stringify","expires","components_layoutvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_a90d8530_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_a90d8530_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","$export","createProperty","S","F","call","aLen","result","$defineProperty","createDesc","module","exports","object","f"],"mappings":"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","file":"js/chunk-52fa1b60.9f251267.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"ep-site__container\",staticStyle:{\"height\":\"100%\"}},[_c('el-aside',{staticClass:\"ep-aside\",attrs:{\"width\":\"196px\"}},[_c('el-header',{staticClass:\"ep-aside__header\",attrs:{\"height\":\"56px\"}},[_c('div',{staticClass:\"header-title\"},[_c('span',[_vm._v(\"人口管控系统\")])])]),_c('el-menu',{staticClass:\"ep-menu\",attrs:{\"router\":\"\",\"unique-opened\":\"\",\"default-active\":_vm.$route.path,\"background-color\":\"#001529\",\"text-color\":\"hsla(0,0%,100%,.65)\",\"active-text-color\":\"#fff\"},on:{\"open\":_vm.handleOpen,\"close\":_vm.handleClose}},_vm._l((_vm.menuList),function(item){return _c('el-menu-item',{key:item.name,attrs:{\"index\":item.path}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.name))])])}))],1),_c('el-container',[_c('el-header',{staticClass:\"ep-container__header\",attrs:{\"height\":\"56px\"}},[_c('div',{staticClass:\"user-info\"},[_c('el-dropdown',{attrs:{\"trigger\":\"click\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n            欢迎您，\"+_vm._s(_vm.officerInfo.officerName)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('div',{on:{\"click\":_vm.signOutFun}},[_vm._v(\"退出登录\")])]),_c('el-dropdown-item',[_c('div',{on:{\"click\":_vm.updateFun}},[_vm._v(\"修改密码\")])])],1)],1)],1)]),_c('el-main',{staticClass:\"ep-container__main\"},[_c('el-breadcrumb',{staticClass:\"content-breadcrumb\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_vm._l((_vm.routes),function(item,index){return _c('el-breadcrumb-item',{key:index,attrs:{\"to\":{ path: item.path }}},[_vm._v(\"\\n          \"+_vm._s(item.name)+\"\\n        \")])})],2),_c('div',{staticClass:\"content-wrapper\"},[_c('router-view')],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改密码\",\"append-to-body\":true,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"close\":_vm.closeDialog},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"pwdForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"旧密码\",\"prop\":\"oldPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.form.oldPwd),callback:function ($$v) {_vm.$set(_vm.form, \"oldPwd\", $$v)},expression:\"form.oldPwd\"}})],1),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.form.newPwd),callback:function ($$v) {_vm.$set(_vm.form, \"newPwd\", $$v)},expression:\"form.newPwd\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.savePwd}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const modules = {\r\n  pwd: {\r\n    API: {\r\n      updatePassword: 'user/right/updatePasswordByOfficerNo',\r\n    }\r\n  }\r\n}\r\n\r\nexport default modules\r\n","import CONF from './config'\r\nimport Api from '@/utils/api'\r\n\r\nconst pwd = CONF.pwd.API\r\n\r\nexport default {\r\n  /**\r\n   * [保存App信息]\r\n   * @param  {Object} params [description]\r\n   * @return {[type]}        [description]\r\n   */\r\n  async updatePassword(params = {}) {\r\n    const res = await Api.get(pwd['updatePassword'], params)\r\n    return res\r\n  },\r\n}\r\n","<template>\r\n  <el-container class=\"ep-site__container\" style=\"height: 100%;\">\r\n    <el-aside width=\"196px\" class=\"ep-aside\">\r\n      <el-header height=\"56px\" class=\"ep-aside__header\">\r\n        <div class=\"header-title\">\r\n          <span>人口管控系统</span>\r\n        </div>\r\n      </el-header>\r\n      <el-menu\r\n        router\r\n        unique-opened\r\n        :default-active=\"$route.path\"\r\n        class=\"ep-menu\"\r\n        @open=\"handleOpen\"\r\n        @close=\"handleClose\"\r\n        background-color=\"#001529\"\r\n        text-color=\"hsla(0,0%,100%,.65)\"\r\n        active-text-color=\"#fff\">\r\n        <el-menu-item\r\n          v-for=\"item in menuList\"\r\n          :key=\"item.name\"\r\n          :index=\"item.path\"\r\n        >\r\n          <span slot=\"title\">{{item.name}}</span>\r\n        </el-menu-item>\r\n      </el-menu>\r\n    </el-aside>\r\n    <el-container>\r\n      <el-header height=\"56px\" class=\"ep-container__header\">\r\n        <div class=\"user-info\">\r\n          <el-dropdown trigger=\"click\">\r\n            <span class=\"el-dropdown-link\">\r\n              欢迎您，{{officerInfo.officerName}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n            </span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item>\r\n                <div @click=\"signOutFun\">退出登录</div>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <div @click=\"updateFun\">修改密码</div>\r\n              </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-header>\r\n      <el-main class=\"ep-container__main\">\r\n        <el-breadcrumb class=\"content-breadcrumb\" separator-class=\"el-icon-arrow-right\">\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n          <el-breadcrumb-item\r\n            v-for=\"(item, index) in routes\"\r\n            :key=\"index\"\r\n            :to=\"{ path: item.path }\"\r\n          >\r\n            {{item.name}}\r\n          </el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <div class=\"content-wrapper\">\r\n          <router-view/>\r\n        </div>\r\n        <!--<el-footer class=\"content-footer\" height=\"42px\">-->\r\n        <!--<span>Copyright © 2018 大数据与智能供应链事业部-运营数据研发部 版权所有 </span>-->\r\n        <!--</el-footer>-->\r\n      </el-main>\r\n    </el-container>\r\n    <el-dialog\r\n      title=\"修改密码\"\r\n      :append-to-body=\"true\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"30%\"\r\n      :close=\"closeDialog\">\r\n      <el-form ref=\"pwdForm\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"旧密码\" prop=\"oldPwd\">\r\n          <el-input type=\"password\" size=\"small\" placeholder=\"请输入\" clearable v-model=\"form.oldPwd\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\" prop=\"newPwd\">\r\n          <el-input type=\"password\" size=\"small\" placeholder=\"请输入\" clearable v-model=\"form.newPwd\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button size=\"small\" @click=\"closeDialog\">取 消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"savePwd\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from 'js-cookie'\r\nimport Service from './service'\r\n\r\nexport default {\r\n  name: 'DefaultLayout',\r\n  data() {\r\n    return {\r\n      routes: [],\r\n      officerInfo: {},\r\n      menuList: [],\r\n      dialogVisible: false,\r\n      form: {\r\n        newPwd: '',\r\n        oldPwd: ''\r\n      },\r\n      rules: {\r\n        oldPwd: [\r\n          { required: true, message: '请输入旧密码', trigger: 'blur' }\r\n        ],\r\n        newPwd: [\r\n          { required: true, message: '请输入新密码', trigger: 'blur' },\r\n          { min: 6, message: '密码最少6个字符', trigger: 'blur' }\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    '$route': 'buildRoutes'\r\n  },\r\n  created() {\r\n    this.getMenuList()\r\n    this.buildRoutes(this.$route, null)\r\n  },\r\n  mounted() {\r\n    console.log(this.$route.params)\r\n  },\r\n  methods: {\r\n    getMenuList() {\r\n      if (Cookies.get('officerInfo')) {\r\n        this.officerInfo = JSON.parse(Cookies.get('officerInfo'))\r\n      }\r\n      if (Cookies.get('menuList')) {\r\n        const menuList = JSON.parse(Cookies.get('menuList'))\r\n        this.menuList = menuList.filter(v => !v.isChildren)\r\n      }\r\n    },\r\n    signOutFun() {\r\n      Cookies.remove('isLogin')\r\n      this.$router.push({ path: '/login' })\r\n    },\r\n    async updatePwd() {\r\n      // TODO officeNo需要修改成真实的\r\n      let params = {\r\n        ...this.form,\r\n        officerNo: this.officerInfo.officerNo\r\n      }\r\n      const res = await Service.updatePassword(params)\r\n      if (res) {\r\n        this.$message.success('密码修改成功！')\r\n        this.closeDialog()\r\n      }\r\n    },\r\n    savePwd() {\r\n      this.$refs.pwdForm.validate((valid) => {\r\n        if (valid) {\r\n          this.updatePwd()\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    closeDialog() {\r\n      this.$refs.pwdForm.resetFields()\r\n      this.dialogVisible = false\r\n    },\r\n    updateFun() {\r\n      this.dialogVisible = true\r\n    },\r\n    handleOpen(key, keyPath) {\r\n      console.log(key, keyPath)\r\n    },\r\n    handleClose(key, keyPath) {\r\n      console.log(key, keyPath)\r\n    },\r\n    buildRoutes(newVal, oldVal) {\r\n      // 刷新时查找cookie是否存在\r\n      if (Cookies.get('routes') && !oldVal) {\r\n        this.routes = JSON.parse(Cookies.get('routes'))\r\n        return\r\n      }\r\n      let routes\r\n      const prevRoute = oldVal && oldVal.matched[1]\r\n      const currentRoute = newVal.matched[1]\r\n      if (oldVal && currentRoute.meta.isChildren) {\r\n        routes = Array.of(prevRoute, currentRoute)\r\n      } else {\r\n        routes = Array.isArray(currentRoute) ? currentRoute : Array.of(currentRoute)\r\n      }\r\n      this.routes = routes.map(v => {\r\n        return {\r\n          name: v.meta.name,\r\n          path: v.path\r\n        }\r\n      })\r\n      Cookies.set('routes', JSON.stringify(this.routes), { expires: 365 })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  // 过渡动画 横向渐变\r\n  .fade-transverse-leave-active,\r\n  .fade-transverse-enter-active {\r\n    transition: all .5s;\r\n  }\r\n\r\n  .fade-transverse-enter {\r\n    opacity: 0;\r\n    transform: translateX(-30px);\r\n  }\r\n\r\n  .fade-transverse-leave-to {\r\n    opacity: 0;\r\n    transform: translateX(30px);\r\n  }\r\n\r\n  .ep-aside__header {\r\n    display: flex;\r\n    background-color: #002140;\r\n    .header-logo {\r\n      img {\r\n        width: 32px;\r\n        height: 32px;\r\n        padding: 16px;\r\n        padding-left: 0;\r\n      }\r\n    }\r\n    .header-title {\r\n      display: flex;\r\n      flex: 1;\r\n      justify-content: center;\r\n      align-items: center;\r\n      color: #fff;\r\n      font-size: 18px;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n\r\n  .ep-container__header {\r\n    display: flex;\r\n    box-shadow: 0 5px 10px rgba(0, 21, 41, 0.08);\r\n    position: relative;\r\n    z-index: 100;\r\n    .user-info {\r\n      display: flex;\r\n      flex: 1;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n      padding: 16px 32px;\r\n    }\r\n  }\r\n\r\n  .ep-container__main {\r\n    background: #f0f2f5;\r\n    // 面包屑\r\n    .content-breadcrumb {\r\n      margin-bottom: 20px;\r\n    }\r\n    .content-wrapper {\r\n      padding: 24px 32px;\r\n      margin-bottom: 24px;\r\n      background: #fff;\r\n    }\r\n    // 页面底部\r\n    .content-footer {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      position: fixed;\r\n      left: 196px;\r\n      bottom: 0;\r\n      width: 100%;\r\n      font-size: 12px;\r\n      background: #f0f2f5;\r\n      z-index: 2;\r\n    }\r\n  }\r\n\r\n  .ep-menu {\r\n    text-align: center;\r\n    border-right: none;\r\n  }\r\n\r\n  .ep-aside {\r\n    transition: all .3s;\r\n    /*box-shadow: 2px 0 6px rgba(0, 21, 41, 0.35);*/\r\n    background-color: #001529;\r\n    border-right: 0;\r\n  }\r\n\r\n  .el-dropdown-link {\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a90d8530&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a90d8530&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a90d8530\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a90d8530&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a90d8530&lang=less&scoped=true&\"","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n"],"sourceRoot":""}