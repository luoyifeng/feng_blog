(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f201380"],{1364:function(r,e,t){"use strict";t.r(e);var n=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"login-wrapper"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:r.loginForm,"status-icon":"",rules:r.formRules}},[t("el-form-item",[t("header",{staticClass:"login-title"},[r._v("宿迁人口管控系统")])]),t("el-form-item",{attrs:{prop:"officerNo",error:r.loginForm.officerNoErrMsg}},[t("el-input",{attrs:{type:"text",autocomplete:"off",clearable:"",placeholder:"警号"},model:{value:r.loginForm.officerNo,callback:function(e){r.$set(r.loginForm,"officerNo",e)},expression:"loginForm.officerNo"}})],1),t("el-form-item",{attrs:{prop:"password",error:r.loginForm.passwordErrMsg}},[t("el-input",{attrs:{type:"password",autocomplete:"off",clearable:"",placeholder:"密码"},model:{value:r.loginForm.password,callback:function(e){r.$set(r.loginForm,"password",e)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:r.handleSubmit}},[r._v("登录")])],1)],1)],1)},o=[],i=(t("96cf"),t("3b8d")),a=t("8d81"),s=t.n(a),u=t("a78e"),c=t.n(u),f=(t("7f7f"),{login:{API:{getOfficerInfo:"user/right/selectByOfficerNo",resetPassword:"user/right/resetPassword",getMenuList:"user/right/getCurrentUserMenu"}}}),l=f,g=t("7c15"),p=l.login.API,m={getOfficerInfo:function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(){var e,t,n=arguments;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},r.next=3,g["a"].get(p["getOfficerInfo"],e);case 3:return t=r.sent,r.abrupt("return",t.data);case 5:case"end":return r.stop()}}),r)})));function e(){return r.apply(this,arguments)}return e}(),resetPassword:function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(){var e,t,n=arguments;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},r.next=3,g["a"].get(p["resetPassword"],e);case 3:return t=r.sent,r.abrupt("return",t.data);case 5:case"end":return r.stop()}}),r)})));function e(){return r.apply(this,arguments)}return e}(),getMenuList:function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(){var e,t,n=arguments;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},r.next=3,g["a"].get(p["getMenuList"],e);case 3:return t=r.sent,r.abrupt("return",t.data.map((function(r){return r.name})));case 5:case"end":return r.stop()}}),r)})));function e(){return r.apply(this,arguments)}return e}()},h=t("5a50"),d={name:"LoginPage",data:function(){return{loginForm:{officerNo:"",password:"",officerNoErrMsg:"",passwordErrMsg:""},formRules:{officerNo:[{required:!0,message:"请输入警号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},isLoading:!1}},created:function(){if(c.a.get("officerInfo")){var r=JSON.parse(c.a.get("officerInfo"));this.loginForm.officerNo=r.officerNo}},methods:{handleSubmit:function(){var r=this;this.isLoading=!0,this.loginForm.officerNoErrMsg="",this.loginForm.passwordErrMsg="",this.$refs.loginForm.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,r.getOfficerInfo();case 3:n=e.sent,n?r.handleLogin():r.isLoading=!1,e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},getOfficerInfo:function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(){var e,t,n,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e=this.loginForm,t=e.officerNo,n=e.password,o={officerNo:t},r.next=4,m.getOfficerInfo(o);case 4:return i=r.sent,i?i.password!==s()(n)?this.loginForm.passwordErrMsg="密码错误!":(c.a.set("officerNo",i.officerNo,{expires:365}),c.a.set("officerInfo",JSON.stringify(i),{expires:365}),c.a.set("isLogin",!0,{expires:365})):this.loginForm.officerNoErrMsg="用户名不存在!",r.abrupt("return",i.password===s()(n));case 8:case"end":return r.stop()}}),r,this)})));function e(){return r.apply(this,arguments)}return e}(),handleReset:function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(){var e,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""!==this.loginForm.officerNo){r.next=3;break}return this.$message.warning("警号为空，请输入警号以重置密码。"),r.abrupt("return");case 3:return e={officerNo:this.loginForm.officerNo},r.next=6,m.resetPassword(e);case 6:t=r.sent,t&&this.$message.success("密码重置成功，请重新登录。");case 8:case"end":return r.stop()}}),r,this)})));function e(){return r.apply(this,arguments)}return e}(),handleLogin:function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(){var e,t,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e={officerNo:this.loginForm.officerNo},r.next=3,m.getMenuList(e);case 3:t=r.sent,n=Object(h["a"])(t),c.a.set("menuList",JSON.stringify(n),{expires:365}),this.$router.push({name:"Home",params:{officerNo:this.loginForm.officerNo}});case 7:case"end":return r.stop()}}),r,this)})));function e(){return r.apply(this,arguments)}return e}()}},w=d,v=(t("e92f"),t("2877")),b=Object(v["a"])(w,n,o,!1,null,"3ba766a9",null);e["default"]=b.exports},"83c5":function(r,e,t){},"8d81":function(r,e,t){var n;(function(o){"use strict";function i(r,e){var t=(65535&r)+(65535&e),n=(r>>16)+(e>>16)+(t>>16);return n<<16|65535&t}function a(r,e){return r<<e|r>>>32-e}function s(r,e,t,n,o,s){return i(a(i(i(e,r),i(n,s)),o),t)}function u(r,e,t,n,o,i,a){return s(e&t|~e&n,r,e,o,i,a)}function c(r,e,t,n,o,i,a){return s(e&n|t&~n,r,e,o,i,a)}function f(r,e,t,n,o,i,a){return s(e^t^n,r,e,o,i,a)}function l(r,e,t,n,o,i,a){return s(t^(e|~n),r,e,o,i,a)}function g(r,e){var t,n,o,a,s;r[e>>5]|=128<<e%32,r[14+(e+64>>>9<<4)]=e;var g=1732584193,p=-271733879,m=-1732584194,h=271733878;for(t=0;t<r.length;t+=16)n=g,o=p,a=m,s=h,g=u(g,p,m,h,r[t],7,-680876936),h=u(h,g,p,m,r[t+1],12,-389564586),m=u(m,h,g,p,r[t+2],17,606105819),p=u(p,m,h,g,r[t+3],22,-1044525330),g=u(g,p,m,h,r[t+4],7,-176418897),h=u(h,g,p,m,r[t+5],12,1200080426),m=u(m,h,g,p,r[t+6],17,-1473231341),p=u(p,m,h,g,r[t+7],22,-45705983),g=u(g,p,m,h,r[t+8],7,1770035416),h=u(h,g,p,m,r[t+9],12,-1958414417),m=u(m,h,g,p,r[t+10],17,-42063),p=u(p,m,h,g,r[t+11],22,-1990404162),g=u(g,p,m,h,r[t+12],7,1804603682),h=u(h,g,p,m,r[t+13],12,-40341101),m=u(m,h,g,p,r[t+14],17,-1502002290),p=u(p,m,h,g,r[t+15],22,1236535329),g=c(g,p,m,h,r[t+1],5,-165796510),h=c(h,g,p,m,r[t+6],9,-1069501632),m=c(m,h,g,p,r[t+11],14,643717713),p=c(p,m,h,g,r[t],20,-373897302),g=c(g,p,m,h,r[t+5],5,-701558691),h=c(h,g,p,m,r[t+10],9,38016083),m=c(m,h,g,p,r[t+15],14,-660478335),p=c(p,m,h,g,r[t+4],20,-405537848),g=c(g,p,m,h,r[t+9],5,568446438),h=c(h,g,p,m,r[t+14],9,-1019803690),m=c(m,h,g,p,r[t+3],14,-187363961),p=c(p,m,h,g,r[t+8],20,1163531501),g=c(g,p,m,h,r[t+13],5,-1444681467),h=c(h,g,p,m,r[t+2],9,-51403784),m=c(m,h,g,p,r[t+7],14,1735328473),p=c(p,m,h,g,r[t+12],20,-1926607734),g=f(g,p,m,h,r[t+5],4,-378558),h=f(h,g,p,m,r[t+8],11,-2022574463),m=f(m,h,g,p,r[t+11],16,1839030562),p=f(p,m,h,g,r[t+14],23,-35309556),g=f(g,p,m,h,r[t+1],4,-1530992060),h=f(h,g,p,m,r[t+4],11,1272893353),m=f(m,h,g,p,r[t+7],16,-155497632),p=f(p,m,h,g,r[t+10],23,-1094730640),g=f(g,p,m,h,r[t+13],4,681279174),h=f(h,g,p,m,r[t],11,-358537222),m=f(m,h,g,p,r[t+3],16,-722521979),p=f(p,m,h,g,r[t+6],23,76029189),g=f(g,p,m,h,r[t+9],4,-640364487),h=f(h,g,p,m,r[t+12],11,-421815835),m=f(m,h,g,p,r[t+15],16,530742520),p=f(p,m,h,g,r[t+2],23,-995338651),g=l(g,p,m,h,r[t],6,-198630844),h=l(h,g,p,m,r[t+7],10,1126891415),m=l(m,h,g,p,r[t+14],15,-1416354905),p=l(p,m,h,g,r[t+5],21,-57434055),g=l(g,p,m,h,r[t+12],6,1700485571),h=l(h,g,p,m,r[t+3],10,-1894986606),m=l(m,h,g,p,r[t+10],15,-1051523),p=l(p,m,h,g,r[t+1],21,-2054922799),g=l(g,p,m,h,r[t+8],6,1873313359),h=l(h,g,p,m,r[t+15],10,-30611744),m=l(m,h,g,p,r[t+6],15,-1560198380),p=l(p,m,h,g,r[t+13],21,1309151649),g=l(g,p,m,h,r[t+4],6,-145523070),h=l(h,g,p,m,r[t+11],10,-1120210379),m=l(m,h,g,p,r[t+2],15,718787259),p=l(p,m,h,g,r[t+9],21,-343485551),g=i(g,n),p=i(p,o),m=i(m,a),h=i(h,s);return[g,p,m,h]}function p(r){var e,t="",n=32*r.length;for(e=0;e<n;e+=8)t+=String.fromCharCode(r[e>>5]>>>e%32&255);return t}function m(r){var e,t=[];for(t[(r.length>>2)-1]=void 0,e=0;e<t.length;e+=1)t[e]=0;var n=8*r.length;for(e=0;e<n;e+=8)t[e>>5]|=(255&r.charCodeAt(e/8))<<e%32;return t}function h(r){return p(g(m(r),8*r.length))}function d(r,e){var t,n,o=m(r),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=g(o,8*r.length)),t=0;t<16;t+=1)i[t]=909522486^o[t],a[t]=1549556828^o[t];return n=g(i.concat(m(e)),512+8*e.length),p(g(a.concat(n),640))}function w(r){var e,t,n="0123456789abcdef",o="";for(t=0;t<r.length;t+=1)e=r.charCodeAt(t),o+=n.charAt(e>>>4&15)+n.charAt(15&e);return o}function v(r){return unescape(encodeURIComponent(r))}function b(r){return h(v(r))}function N(r){return w(b(r))}function x(r,e){return d(v(r),v(e))}function F(r,e){return w(x(r,e))}function O(r,e,t){return e?t?x(e,r):F(e,r):t?b(r):N(r)}n=function(){return O}.call(e,t,e,r),void 0===n||(r.exports=n)})()},e92f:function(r,e,t){"use strict";var n=t("83c5"),o=t.n(n);o.a}}]);
//# sourceMappingURL=chunk-5f201380.48306e19.js.map