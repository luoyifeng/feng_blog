{"version":3,"sources":["webpack:///./src/components/manage-authority/index.vue?7198","webpack:///./src/components/manage-authority/index.vue?29e0","webpack:///./src/components/manage-authority/config.js","webpack:///./src/components/manage-authority/service.js","webpack:///src/components/manage-authority/index.vue","webpack:///./src/components/manage-authority/index.vue?39c0","webpack:///./src/components/manage-authority/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","formInline","model","value","callback","$$v","$set","expression","on","onQuery","_v","staticStyle","$event","onOpenDialog","tableData","scopedSlots","_u","key","fn","scope","_s","row","status","handlePassword","handleStatus","handleDelete","currentPage","total","currentChange","dialogTitle","dialogVisible","closeDialog","ref","formPower","rules","_n","_l","item","index","label","slot","onSaveFun","staticRenderFns","modules","manageAuth","API","getListMenu","getPoliceInfo","dealInfo","resetPassword","saveOfficerInfo","CONF","params","Api","get","res","name","data","officerName","officerNo","officerStation","options","officerPhone","menuIds","powerList","editId","methods","v","id","split","handleClick","$message","type","message","$confirm","confirmButtonText","cancelButtonText","deleted","$refs","ruleForm","validate","valid","resetFields","mounted","component"],"mappings":"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","file":"js/chunk-987dc012.3bf6ab2d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0f0ed5be&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0f0ed5be&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"power-manage\"},[_c('div',{staticClass:\"clearfix\"},[_c('el-form',{staticClass:\"form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.officerName),callback:function ($$v) {_vm.$set(_vm.formInline, \"officerName\", $$v)},expression:\"formInline.officerName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"警号\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.officerNo),callback:function ($$v) {_vm.$set(_vm.formInline, \"officerNo\", $$v)},expression:\"formInline.officerNo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单位\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formInline.officerStation),callback:function ($$v) {_vm.$set(_vm.formInline, \"officerStation\", $$v)},expression:\"formInline.officerStation\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onQuery}},[_vm._v(\"查询\")])],1)],1),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"icon\":\"el-icon-plus\",\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onOpenDialog('新增')}}},[_vm._v(\"新增人员\\n    \")])],1),_c('div',{staticClass:\"table-box\"},[_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"officerName\",\"label\":\"姓名\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"officerNo\",\"label\":\"警号\"}}),_c('el-table-column',{attrs:{\"prop\":\"officerStation\",\"label\":\"所属单位\"}}),_c('el-table-column',{attrs:{\"prop\":\"officerPhone\",\"label\":\"联系方式\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"当前状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.status===0?'有效':'无效')+\"\\n        \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"operate\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onOpenDialog('编辑',scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handlePassword(scope.row)}}},[_vm._v(\"密码重置\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleStatus(scope.row)}}},[_vm._v(\"\\n            \"+_vm._s(scope.row.status===0?'禁用':'启用')+\"\\n          \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{staticStyle:{\"text-align\":\"right\",\"padding\":\"20px 0\"},attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":10,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.currentChange}})],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"50%\"},on:{\"close\":_vm.closeDialog,\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',[_c('el-form',{ref:\"ruleForm\",attrs:{\"label-width\":\"80px\",\"model\":_vm.formPower,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"officerName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formPower.officerName),callback:function ($$v) {_vm.$set(_vm.formPower, \"officerName\", $$v)},expression:\"formPower.officerName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"警号\",\"prop\":\"officerNo\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formPower.officerNo),callback:function ($$v) {_vm.$set(_vm.formPower, \"officerNo\", $$v)},expression:\"formPower.officerNo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系方式\",\"prop\":\"officerPhone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formPower.officerPhone),callback:function ($$v) {_vm.$set(_vm.formPower, \"officerPhone\", _vm._n($$v))},expression:\"formPower.officerPhone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属单位\",\"prop\":\"officerStation\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},model:{value:(_vm.formPower.officerStation),callback:function ($$v) {_vm.$set(_vm.formPower, \"officerStation\", _vm._n($$v))},expression:\"formPower.officerStation\"}})],1),_c('el-form-item',{attrs:{\"label\":\"权限选择\",\"prop\":\"menuIds\"}},[_c('el-checkbox-group',{model:{value:(_vm.formPower.menuIds),callback:function ($$v) {_vm.$set(_vm.formPower, \"menuIds\", $$v)},expression:\"formPower.menuIds\"}},_vm._l((_vm.powerList),function(item,index){return _c('el-checkbox',{key:index,staticStyle:{\"margin-left\":\"20px\"},attrs:{\"label\":item.value}},[_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")])}),1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"返回\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.onSaveFun}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const modules = {\n  manageAuth: {\n    API: {\n      getListMenu: 'user/right/listMenuResource',\n      getPoliceInfo: 'user/right/queryByCondition',\n      dealInfo: 'user/right/updateById',\n      resetPassword: 'user/right/resetPassword',\n      saveOfficerInfo: 'user/right/saveOfficerInfo',\n    }\n  }\n}\n\nexport default modules\n","import CONF from './config'\nimport Api from '@/utils/api'\n\nconst manageAuth = CONF.manageAuth.API\n\nexport default {\n  /**\n   * [保存App信息]\n   * @param  {Object} params [description]\n   * @return {[type]}        [description]\n   */\n  async getPoliceInfo(params = {}) {\n    const res = await Api.get(manageAuth['getPoliceInfo'], params)\n    return res\n  },\n  async dealInfo(params = {}) {\n    const res = await Api.get(manageAuth['dealInfo'], params)\n    return res\n  },\n  async resetPassword(params = {}) {\n    const res = await Api.get(manageAuth['resetPassword'], params)\n    return res\n  },\n  async saveOfficerInfo(params = {}) {\n    const res = await Api.get(manageAuth['saveOfficerInfo'], params)\n    return res\n  },\n  async getListMenu(params = {}) {\n    const res = await Api.get(manageAuth['getListMenu'], params)\n    return res\n  }\n}\n","<template>\n  <div class=\"power-manage\">\n    <div class=\"clearfix\">\n      <el-form :inline=\"true\" :model=\"formInline\" class=\"form-inline\">\n        <el-form-item label=\"姓名\">\n          <el-input v-model=\"formInline.officerName\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"警号\">\n          <el-input v-model=\"formInline.officerNo\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"单位\">\n          <el-input v-model=\"formInline.officerStation\" size=\"small\" placeholder=\"请输入\" clearable></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" size=\"small\" @click=\"onQuery\">查询</el-button>\n        </el-form-item>\n      </el-form>\n      <el-button icon=\"el-icon-plus\" type=\"primary\" size=\"small\" @click=\"onOpenDialog('新增')\" style=\"float: right;\">新增人员\n      </el-button>\n    </div>\n    <div class=\"table-box\">\n      <el-table\n        :data=\"tableData\"\n        border>\n        <el-table-column\n          prop=\"officerName\"\n          label=\"姓名\"\n          width=\"120\">\n        </el-table-column>\n        <el-table-column\n          prop=\"officerNo\"\n          label=\"警号\">\n        </el-table-column>\n        <el-table-column\n          prop=\"officerStation\"\n          label=\"所属单位\">\n        </el-table-column>\n        <el-table-column\n          prop=\"officerPhone\"\n          label=\"联系方式\">\n        </el-table-column>\n        <el-table-column\n          prop=\"status\"\n          label=\"当前状态\">\n          <template slot-scope=\"scope\">\n            {{scope.row.status===0?'有效':'无效'}}\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"operate\"\n          label=\"操作\"\n          width=\"200\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"onOpenDialog('编辑',scope.row)\" type=\"text\" size=\"small\">编辑</el-button>\n            <el-button @click=\"handlePassword(scope.row)\" type=\"text\" size=\"small\">密码重置</el-button>\n            <el-button @click=\"handleStatus(scope.row)\" type=\"text\" size=\"small\">\n              {{scope.row.status===0?'禁用':'启用'}}\n            </el-button>\n            <el-button @click=\"handleDelete(scope.row)\" type=\"text\" size=\"small\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        style=\"text-align: right; padding: 20px 0;\"\n        background\n        @current-change=\"currentChange\"\n        :current-page=\"currentPage\"\n        :page-size=\"10\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n    <el-dialog\n      :title=\"dialogTitle\"\n      @close=\"closeDialog\"\n      :visible.sync=\"dialogVisible\"\n      width=\"50%\">\n      <div>\n        <el-form label-width=\"80px\" :model=\"formPower\" :rules=\"rules\" ref=\"ruleForm\">\n          <el-form-item label=\"姓名\" prop=\"officerName\">\n            <el-input v-model=\"formPower.officerName\" placeholder=\"请输入\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"警号\" prop=\"officerNo\">\n            <el-input v-model=\"formPower.officerNo\" placeholder=\"请输入\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"联系方式\" prop=\"officerPhone\">\n            <el-input v-model.number=\"formPower.officerPhone\" placeholder=\"请输入\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"所属单位\" prop=\"officerStation\">\n            <el-input v-model.number=\"formPower.officerStation\" placeholder=\"请输入\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"权限选择\" prop=\"menuIds\">\n            <el-checkbox-group v-model=\"formPower.menuIds\">\n              <el-checkbox v-for=\"(item,index) in powerList\" :label=\"item.value\" :key=\"index\"\n                           style=\"margin-left: 20px;\">\n                {{item.label}}\n              </el-checkbox>\n            </el-checkbox-group>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"closeDialog\">返回</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"onSaveFun\">保存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Service from './service'\n\nexport default {\n  name: 'ManageAuthority',\n  data() {\n    return {\n      formInline: {\n        officerName: '',\n        officerNo: '',\n        officerStation: ''\n      },\n      options: [{\n        value: '选项1',\n        label: '黄金糕'\n      }, {\n        value: '选项2',\n        label: '双皮奶'\n      }],\n      value: '',\n      tableData: [],\n      total: 0,\n      currentPage: 1,\n      dialogVisible: false,\n      dialogTitle: '新增人员',\n      formPower: {\n        officerName: '',\n        officerNo: '',\n        officerPhone: '',\n        officerStation: '',\n        menuIds: []\n      },\n      powerList: [],\n      rules: {\n        officerName: [\n          { required: true, message: '请输入名称', trigger: 'blur' },\n        ],\n        officerNo: [\n          { required: true, message: '请输入警号', trigger: 'blur' }\n        ],\n        officerPhone: [\n          { required: true, message: '请输入电话号', trigger: 'blur' },\n        ],\n        officerStation: [\n          { required: true, message: '请输入单位', trigger: 'blur' },\n        ],\n        menuIds: [\n          { required: true, message: '请选择权限', trigger: 'change' }\n        ]\n      },\n      editId: ''\n    }\n  },\n  methods: {\n    // 权限菜单列表\n    async getListMenu() {\n      const data = await Service.getListMenu()\n      this.powerList = data.data.map(item => {\n        return {\n          label: item.name,\n          value: item.id + ''\n        }\n      })\n    },\n    // 新增和编辑\n    async saveOfficerInfo(params) {\n      const data = await Service.saveOfficerInfo(params)\n      this.closeDialog()\n      this.dialogVisible = false\n      this.getPoliceInfo()\n    },\n    // 重置密码\n    async resetPassword(row) {\n      const data = await Service.resetPassword({ id: row.id })\n      this.$message({\n        type: 'success',\n        message: '密码重置成功!'\n      });\n    },\n    // 查询主列表\n    async getPoliceInfo() {\n      let params = {\n        currentPage: this.currentPage,\n        ...this.formInline\n      }\n      const data = await Service.getPoliceInfo(params)\n      this.tableData = data.data\n      this.total = data.totalSize\n    },\n    // 删除和改状态\n    async dealInfo(params, status) {\n      await Service.dealInfo(params)\n      if (status === 'delete') {\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n      } else if (status === 'status') {\n        this.$message({\n          type: 'success',\n          message: '状态修改成功!'\n        });\n      }\n      this.getPoliceInfo()\n    },\n    onQuery() {\n      this.currentPage = 1\n      this.getPoliceInfo()\n    },\n    currentChange(v) {\n      this.currentPage = v\n      this.getPoliceInfo()\n    },\n    onOpenDialog(name, row) {\n      this.dialogTitle = name + '人员'\n      if (name === '编辑') {\n        this.editId = row.id\n        this.formPower.officerName = row.officerName\n        this.formPower.officerNo = row.officerNo\n        this.formPower.officerPhone = row.officerPhone\n        this.formPower.officerStation = row.officerStation\n        this.formPower.menuIds = row.menuIds.split(',')\n      }\n      this.dialogVisible = true\n    },\n    handleClick() {\n      this.$message({\n        type: 'success',\n        message: '启用成功!'\n      });\n    },\n    handlePassword(row) {\n      this.$confirm('此操作将重置密码, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.resetPassword(row)\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消'\n        });\n      });\n    },\n    handleStatus(row) {\n      let params = {\n        id: row.id,\n        status: row.status === 0 ? 1 : 0\n      }\n      this.$confirm('此操作将修改状态, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.dealInfo(params, 'status')\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消'\n        });\n      });\n    },\n    handleDelete(row) {\n      this.$confirm('确认删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let params = {\n          id: row.id,\n          deleted: 1\n        }\n        this.dealInfo(params, 'delete')\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    onSaveFun() {\n      this.$refs.ruleForm.validate((valid) => {\n        if (valid) {\n          let params = {\n            ...this.formPower,\n            menuIds: this.formPower.menuIds.join(',')\n          }\n          if (this.editId) {\n            params['id'] = this.editId\n          }\n          this.saveOfficerInfo(params)\n        } else {\n          return false;\n        }\n      })\n    },\n    closeDialog() {\n      this.$refs.ruleForm.resetFields()\n      this.formPower = {\n        officerName: '',\n        officerNo: '',\n        officerPhone: '',\n        officerStation: '',\n        menuIds: []\n      }\n      this.editId = ''\n      this.dialogVisible = false\n    }\n  },\n  mounted() {\n    this.getListMenu()\n    this.getPoliceInfo()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .clearfix:after {\n    content: \"\";\n    display: block;\n    clear: both;\n  }\n\n  .clearfix {\n    zoom: 1;\n  }\n\n  .power-manage {\n    text-align: left;\n    .form-inline {\n      float: left;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0f0ed5be&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0f0ed5be&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f0ed5be\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}